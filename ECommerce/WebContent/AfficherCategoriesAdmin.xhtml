<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
<title>Afficher la liste des catégories</title>
</h:head>
<h:body>



<!-- Inclure mon template dns la page accueil admin sans modif -->
<ui:composition template="/template/layout.xhtml">
<ui:define name="corps">
<h:form>
<p:breadCrumb>
    <p:menuitem value="Accueil Administrateur" url="accueilAdmin.xhtml" />
    <p:menuitem value="Ajouter produit" url="ajoutpr.xhtml" />
    <p:menuitem value="Modifier produit" url="modifpr.xhtml" />
    <p:menuitem value="Rechercher produit" url="rechpr.xhtml" />
    <p:menuitem value="Rechercher par catégorie" url="rechprcat.xhtml" />
    <p:menuitem value="Supprimer produit" url="suppPr.xhtml" />
    <p:menuitem value="Afficher catégories" url="AfficherCategoriesAdmin.xhtml" />
    <p:menuitem value="Ajouter catégorie" url="ajoutCatAdmin.xhtml"/>
    <p:menuitem value="Modifier catégorie" url="modifCatAdmin.xhtml"/>
    <p:menuitem value="Rechercher catégorie" url="chercherCatAdmin.xhtml"/>
</p:breadCrumb>

</h:form>
<h1 style="color: violet; text-align: center">Liste de catégories</h1>
<h:form>
<p:dataTable var="categ" value="#{sessionScope.categorieList}">
    <p:column headerText="Id">
       <h:outputText value="#{categ.idCategorie}" />
    </p:column>
 
    <p:column headerText="Nom">
        <h:outputText value="#{categ.nomCategorie}" />
    </p:column>
 
    <p:column headerText="Description">
        <h:outputText value="#{categ.description}" />
    </p:column>
 
    <p:column headerText="Photos">
        <h:graphicImage value="#{categ.image}" style="height:100px;width:100px"/>
    </p:column>
    
    <p:column headerText="Operation">
				<p:commandLink value="Supprimer" action="#{catMB.suppCategorie}" update="@all">
					<f:setPropertyActionListener value="#{categ.idCategorie}" target="#{catMB.cat.idCategorie}"/>
				</p:commandLink>
				<br/>
				<p:commandLink value="Modifier" action="#{catMB.modifierCatAvecLien}" update="@all" target="modifCatAdmin">
					<f:setPropertyActionListener value="#{categ.idCategorie}" target="#{catMB.cat.idCategorie}"/>
				</p:commandLink>
			</p:column>
</p:dataTable>
</h:form>
<h:messages style="color:crimson"/>
</ui:define>
</ui:composition>
</h:body>
</html>
